<div class="container">
  <%= render(ActionbarComponent.new(title: @group.title, subtitle: @group.description, backpath: groups_path, invitation: true, object: @group, forum: true, key: @group.key)) %>
  <div class="sections">
    <div class="container__supertitle">
      <span class="mark"><%= @group.goal %></span>
    </div>
    <section>
      <div class="section__titles">
        <h2 class="section__title">Membres</h2>
        <h3 class="section__subtitle">Membres actuels du groupe</h3>
      </div>
        <% unless @members.nil? %>
          <% @members.each do |member|  %>
            <%= render 'groups/member', member: member, group: @group %>
          <% end %>
        <% end %>
    </section>
    <section>
      <div class="section__titles">
        <h2 class="section__title">Tâches
        </h2>
        <h3 class="section__subtitle">Tâches actuels du groupe</h3>
      </div>
      <%= turbo_frame_tag "new_task" do %>
        <div class="section__elements">
          <%= link_to new_group_task_path(@group), data: {turbo_frame: "new_task"} do %>
          <div class="elements__title" style="color: lightgrey">
            Ajouter une nouvelle tâche
          </div>
          <% end %>
        </div>
      <% end %>
      <%= turbo_frame_tag :tasks do %>
        <%= turbo_stream_from @group, :tasks %>
        <% @tasks.each do |task| %>
            <%= render 'tasks/task', task: task, group: @group %>
          <% end %>
        <% end %>
    </section>
  </div>
</div>